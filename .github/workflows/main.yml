name: Integration build rmw_iceoryx

on:
  push:
    branches:
      - master
  pull_request:

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: ubuntu:bionic
    steps:
      - name: Setup ROS
        uses: ros-tooling/setup-ros@0.0.19
        with:
          required-ros-distributions: eloquent
      - name: Install Iceoryx Dependencies
        run: sudo apt-get update && sudo apt-get install -y cmake libacl1-dev libncurses5-dev pkg-config
      - uses: ros-tooling/action-ros-ci@master
        with:
          package-name: rmw_iceoryx_cpp
          vcs-repo-file-url: https://raw.githubusercontent.com/ros2/ros2/master/ros2.repo https://gist.githubusercontent.com/thomas-moulard/151c2ce5880a46551b558e7d66dc997d/raw/07eca90bba7d9581b739f9d48c5e908b001d9d80/gistfile1.txt
